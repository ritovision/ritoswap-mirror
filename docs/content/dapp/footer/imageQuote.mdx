---

title: Image & Quote Randomizer
description: A lightweight client-side component for dynamic content without infrastructure overhead
author: Rito
---

import { FileTree } from 'nextra/components'
import { StorybookEmbed } from '@/app/components/StorybookEmbed'


# Image & Quote Randomizer

## Introduction

The Image & Quote Randomizer is a thoughtfully designed client-side component that brings dynamic, fresh content to Ritoswap without requiring any extra backend infrastructure, content management system, or database. While the component files themselves use the naming convention `imageQuote` throughout the codebase, we formally refer to this system as the **Image & Quote Randomizer** to clearly communicate its purpose and functionality.

This component represents a philosophy of achieving dynamic user experiences through clever client-side engineering rather than complex infrastructure. Each time a user visits the page or navigates between routes, they're greeted with a randomly selected pairing of an inspirational image and thought-provoking quote, creating a sense of freshness and discovery that typically requires much more complex systems to achieve.

## Component File Structure

<FileTree>
  <FileTree.Folder name="utilities" defaultOpen>
    <FileTree.Folder name="imageQuote" defaultOpen>
      <FileTree.File name="imageTextPairs.json" />
      <FileTree.File name="ImageQuoteServer.tsx" />
      <FileTree.File name="ImageQuoteClient.tsx" />
      <FileTree.File name="ImageQuote.module.css" />
    </FileTree.Folder>
  </FileTree.Folder>
</FileTree>

## Live Example

Experience the Image & Quote Randomizer right here. The component below will display a random image-quote pair:


<StorybookEmbed 
  title="Footer/Utilities/ImageQuote"
  story="RerollButton"
  height="500px"
/>

To see the randomization in action:

* **Reload this page** (F5 or Cmd/Ctrl + R)
* **Navigate to another page and return**
* **Press the refresh button**

Each interaction randomly selects from the configured pairs (currently at least eight), so there's always a real chance of seeing the same combination again. If you have `N` pairs configured, the probability of seeing any specific combination on a given visit is `1 / N`—which reinforces that the component favors genuine randomness over forced variety.

## The Lightweight CMS Alternative

Understanding why this component exists requires thinking about the problem it solves. Many modern web applications want to display dynamic, rotating content to keep the user experience fresh. The traditional solution involves setting up:

* A content management system (CMS) like Contentful or Strapi
* Database connections and queries
* API endpoints to fetch content
* Caching strategies to maintain performance
* Authentication systems to manage content
* Complex deployment pipelines

The Image & Quote Randomizer takes a radically different approach. By leveraging client-side randomization and static assets, it achieves similar user-facing results with virtually no infrastructure overhead. This makes it perfect for:

* **Static Site Generation (SSG)**: The component works seamlessly with Next.js's static generation, requiring no server-side logic
* **Edge deployments**: Since all assets are static, they can be served from CDN edges worldwide
* **Cost efficiency**: No database queries, no API calls, no server compute – just static file serving
* **Simplified maintenance**: Adding new quotes is as simple as updating a JSON file or dropping a new image + caption into the public assets folder
* **Predictable performance**: No network latency from database queries or API calls

## API Reference

### Type Definition

```typescript
type ImageTextPair = {
  image: string;  // Path to image file (e.g., "/images/utilities/imageQuote/Bitcoin.jpg")
  text: string;   // Quote text to display over the image
};
```

### Component Props

| Property       | Type            | Required | Description                                        |
| -------------- | --------------- | -------- | -------------------------------------------------- |
| imageTextPairs | ImageTextPair[] | Yes      | Array of image-quote pairs to randomly select from |

## How It Works

The randomization magic happens through three key mechanisms working in harmony:

### 1. Route-Aware Randomization

The component listens to route changes using Next.js's `usePathname` hook, creating a fresh experience on navigation:

```tsx
const pathname = usePathname();

useEffect(() => {
  // Reset animation state for smooth transition
  if (containerRef.current) {
    containerRef.current.classList.remove(styles.visible);
  }
  
  // Small delay ensures DOM updates before selecting new pair
  const timer = setTimeout(() => {
    setCurrentPair(imageTextPairs[Math.floor(Math.random() * imageTextPairs.length)]);
  }, 10);

  return () => clearTimeout(timer);
}, [imageTextPairs, pathname]); // Re-runs when route changes
```

### 2. Fade-In Animation with Intersection Observer

The component creates smooth entrances using the Intersection Observer API:

```tsx
useEffect(() => {
  if (!containerRef.current) return;

  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add(styles.visible);
        }
      });
    },
    { threshold: 0.1 } // Triggers when 10% visible
  );

  observer.observe(containerRef.current);
  return () => observer.disconnect();
}, [pathname, currentPair]);
```

### 3. Static Asset Management

Content is stored in a simple JSON structure when imported directly:

```json
[
  {
    "image": "/images/utilities/imageQuote/Bitcoin.jpg",
    "text": "My name ain't Bit, but I keep that Coin, boy"
  },
  {
    "image": "/images/utilities/imageQuote/Product.jpg",
    "text": "Product design is truly an art guided by science, NOT the other way around."
  }
  // ... more pairs
]
```

For projects that prefer file-based content over editing JSON, you can also use the `ImageQuoteServer` helper. It scans the `/public/images/utilities/imageQuote` directory, pairs each image with a matching `.txt` file for its caption, and passes the resulting `ImageTextPair[]` into `ImageQuoteClient`. This allows non-developers to update quotes by adding or editing plain text files alongside images, while keeping everything fully static and CMS-free.

## Styling and Animation

The component uses CSS Modules for scoped styling with key animation states:

```css
/* Initial hidden state */
.container {
  position: relative;
  width: 90%;
  max-width: 400px;
  aspect-ratio: 1 / 1;
  border-radius: 10px;
  overflow: hidden;
  opacity: 0;
  transition: opacity 0.75s ease-in-out;
}

/* Visible state triggered by Intersection Observer */
.visible {
  opacity: 1;
}

/* Overlay animation with cascading delay */
.container.visible .overlay {
  opacity: 1;
  transition: opacity 0.75s ease-in-out 0.75s; /* 0.75s delay after container */
}
```

This creates a two-stage reveal: first the image fades in, then the text overlay appears, creating a premium, layered animation effect.

## Design Philosophy

The Image & Quote Randomizer embodies several core principles that guide its implementation:

### Client-Side First

All randomization happens in the browser, eliminating network latency and creating instantaneous content changes. This approach delivers a responsive, smooth experience without server round-trips.

### Zero Configuration

Unlike CMS solutions requiring API keys and complex setup, this component works immediately. No database migrations, no environment variables, no configuration wizards.

### Predictable Costs

Traditional dynamic content systems scale costs with traffic through API calls and database queries. With this component, there's no additional compute cost per view—traffic scales via static asset delivery instead of per-request server logic.

## Integration Patterns

The component demonstrates thoughtful integration with the footer system through different patterns for desktop and mobile layouts:

```tsx
// Desktop: Passed as a prop for specific placement
<FooterDesktopClient
  rightMenuContent={<ImageQuoteClient imageTextPairs={imageTextPairs} />}
/>

// Mobile: Rendered as children for flexible positioning
<FooterMobileClient>
  <ImageQuoteClient imageTextPairs={imageTextPairs} />
</FooterMobileClient>
```

This flexibility showcases how well-designed components can adapt to different layout contexts without modification, maintaining the single responsibility principle while providing versatility.

## When to Use This Pattern

The Image & Quote Randomizer pattern excels in specific scenarios:

* **Marketing sites** that want dynamic feel without dynamic infrastructure
* **Documentation sites** (like this one) that benefit from inspirational content
* **Landing pages** where fresh content improves return visitor experience
* **Portfolio sites** showcasing rotating work samples or testimonials
* **Educational platforms** displaying rotating tips or facts

However, this pattern has limitations. It's not suitable when you need:

* User-specific content personalization
* Real-time content updates across all users
* Content that changes based on external factors (time, location, etc.)
* Large content libraries (hundreds or thousands of items)

Understanding these trade-offs helps you make informed architectural decisions about when client-side randomization is the right tool for the job.

## Performance Considerations

The Image & Quote Randomizer is designed with performance as a primary concern. Images are served as static assets from the `/public` directory and rendered through a custom `OrbImage` component that wraps Next.js's `Image` in `unoptimized` mode. This keeps the dApp compatible with fully static, SSG-only deployments and lets you deploy to static hosts without needing the Next.js Image Optimization API.

In practice, this provides:

* Static, CDN-friendly image delivery with no per-request image processing
* Browser-level lazy loading for the footer image via `next/image`
* A single request per image with no server-side resizing or recompression

Because the randomization logic itself is minimal (a couple of hooks and a small helper), the additional JavaScript footprint is negligible compared to the rest of the app. You can add dynamic footer content without meaningfully impacting Core Web Vitals.

## Conclusion

The Image & Quote Randomizer represents a broader philosophy in modern web development: sometimes the best solution isn't the most complex one. By embracing client-side capabilities and static asset optimization, we can create experiences that feel dynamic and fresh while maintaining the simplicity, performance, and cost-effectiveness of static sites.

This component proves that you don't need a CMS, database, or complex backend to create engaging, dynamic content experiences. Sometimes, all you need is clever client-side code and thoughtful design.

## Playground

Use the full Storybook UI to explore the randomizer states and tweak controls in real time.

<div style={{ width: '100%', height: 720, margin: '2rem 0' }}>
  <iframe
    src="/storybook-static/index.html?path=/story/footer-utilities-imagequote--playground&nav=0"
    width="100%"
    height="100%"
    style={{ border: '1px solid rgba(255,255,255,0.1)', borderRadius: '10px' }}
    title="Footer/Utilities/ImageQuote - Playground"
    loading="lazy"
    tabIndex={-1}
  />
</div>
